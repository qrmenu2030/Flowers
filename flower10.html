<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Myflower's - Цветочный магазин</title>
<!-- FontAwesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- Шрифт -->
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<style>
    * {margin:0; padding:0; box-sizing:border-box;}
    body {font-family: Arial, sans-serif; background:#f9f9f9;}

    /* Шапка */
    header {
        position: fixed; top:0; width:100%; height:80px;
        background: linear-gradient(to right, #87cefa, #ffb6c1);
        opacity: 0.95;
        display:flex; align-items:center; justify-content:space-between;
        padding: 0 20px; z-index:1000;
    }
    header .logo {
        display:flex; align-items:center;
        font-family: 'Pacifico', cursive; color:white; font-size:2rem;
    }
    header .logo img {width:50px; height:50px; margin-right:10px; border-radius:10px;}

    /* Поиск */
    .search-bar {
        margin-top:100px;
        text-align:center;
        padding:10px 20px;
    }
    .search-bar input {
        width:100%; max-width:400px;
        padding:10px 15px; border:1px solid #ccc; border-radius:25px;
        font-size:16px;
    }

    /* Каталог */
    .products {
        display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
        gap:20px; padding:20px;
    }
    .product {
        background:white; border-radius:15px; padding:15px;
        text-align:center; box-shadow:0 4px 10px rgba(0,0,0,0.1);
        transition: transform 0.2s;
    }
    .product:hover {transform: translateY(-3px);}
    .product img {
        width:100%; height:160px; object-fit:cover; border-radius:10px;
    }
    .product h3 {margin:10px 0; font-size:1.2rem;}
    .product p {margin:5px 0; color:#555;}

    /* Кнопки каталога */
    button {
        background: linear-gradient(45deg, #ff69b4, #ff1493);
        border: none;
        color: white;
        padding: 10px 15px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        margin: 10px auto 0;
        transition: transform 0.2s, opacity 0.2s;
        outline: none; /* убираем стандартный жёлтый фокус */
    }
    button:focus-visible {
        outline: 2px solid #ff69b4;
        outline-offset: 2px;
    }
    button:hover {transform: scale(1.05); opacity:0.9;}

    /* Корзина кнопка */
    .cart-btn {
        position: fixed; bottom:20px; right:20px;
        width:60px; height:60px; background:#ff69b4; border-radius:50%;
        display:flex; justify-content:center; align-items:center;
        color:white; font-size:24px; cursor:pointer; z-index:1001;
        box-shadow:0 4px 10px rgba(0,0,0,0.2);
        transition:0.2s;
    }
    .cart-btn:hover {transform: scale(1.1);}
    .cart-btn .count {
        position:absolute; top:-5px; right:-5px;
        background:red; width:20px; height:20px; border-radius:50%;
        display:flex; justify-content:center; align-items:center;
        font-size:12px; color:white;
    }

    /* Модал корзины */
    .cart-modal {
        position: fixed; top:50%; left:50%; transform: translate(-50%,-50%);
        width:90%; max-width:500px;
        background:white; border-radius:20px; box-shadow:0 8px 20px rgba(0,0,0,0.3);
        display:none; flex-direction:column; z-index:1002;
        max-height:85vh; overflow:hidden;
        animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {from{opacity:0; transform:translate(-50%,-48%);} to{opacity:1; transform:translate(-50%,-50%);} }

    .cart-header {
        display:flex; justify-content:space-between; align-items:center;
        padding:15px; border-bottom:1px solid #eee;
        background:linear-gradient(45deg,#ffb6c1,#87cefa); color:white;
        border-top-left-radius:20px; border-top-right-radius:20px;
    }
    .cart-header h2 {font-size:1.4rem;}
    .cart-header .close {cursor:pointer; font-size:22px;}

    .cart-items {
        padding:15px; flex:1; overflow-y:auto;
    }
    .cart-item {
        display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;
        background:#f9f9f9; padding:8px; border-radius:10px;
    }
    .cart-item img {width:50px; height:50px; object-fit:cover; border-radius:5px;}
    .cart-item span {flex:1; margin:0 10px; font-size:14px;}
    .cart-item button {
        background:#ff69b4; border:none; color:white;
        padding:5px 8px; border-radius:5px; cursor:pointer; font-size:13px;
        transition: transform 0.2s, opacity 0.2s;
        outline: none;
    }
    .cart-item button:focus-visible {outline: 2px solid #ff69b4; outline-offset: 1px;}
    .cart-item button:hover {transform: scale(1.1); opacity:0.9;}

    .cart-summary, .delivery-options, .comment-box, .customer-info {
        padding:12px 15px; border-top:1px solid #eee; font-size:14px;
    }
    .cart-summary {font-weight:bold; font-size:16px;}
    .delivery-options label {margin-right:15px; cursor:pointer;}
    .comment-box textarea, .customer-info input {
        width:100%; padding:10px; border:1px solid #ccc; border-radius:10px;
        resize:none; font-size:14px; margin-top:5px;
    }
    .customer-info input {margin-bottom:8px;}

    .cart-actions {
        display:flex; justify-content:space-between; padding:12px 15px; border-top:1px solid #eee;
        background:#fafafa; border-bottom-left-radius:20px; border-bottom-right-radius:20px;
    }
    .cart-actions button {
        flex:1; margin:0 5px; padding:10px; font-size:15px;
        display:flex; justify-content:center; align-items:center; gap:6px;
        border-radius:10px; border:none; cursor:pointer;
        background:linear-gradient(45deg, #ff69b4, #ff1493); color:white;
        transition: transform 0.2s, opacity 0.2s;
        outline: none;
    }
    .cart-actions button:focus-visible {outline: 2px solid #ff69b4; outline-offset:2px;}
    .cart-actions button:hover {opacity:0.9; transform:scale(1.03);}
    .cart-actions button:disabled {background:#ccc; cursor:not-allowed; transform:none;}

    /* Контакты */
    .contacts {
        background:#fff; padding:50px 20px; text-align:center; margin-top:30px;
        border-radius:20px; box-shadow:0 4px 10px rgba(0,0,0,0.1);
    }
    .contacts h2 {margin-bottom:20px;}
    .contacts p {margin:5px 0;}

    /* Overlay */
    .overlay {
        display: none; position: fixed; top: 0; left: 0;
        width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1001;
    }

    /* Toast */
    .toast {
        position: fixed; bottom:90px; right:20px;
        background:#333; color:#fff; padding:10px 20px; border-radius:8px;
        opacity:0; transform:translateY(20px);
        transition: all 0.3s ease;
        z-index:2000; font-size:14px;
    }
    .toast.show {
        opacity:1; transform:translateY(0);
    }
</style>
</head>
<body>

<header>
    <div class="logo">
        <img src="https://images.seeklogo.com/logo-png/28/1/flower-logo-png_seeklogo-280420.png" alt="logo">
        Myflower's
    </div>
</header>

<div class="search-bar">
    <input type="text" id="search" placeholder="Поиск по товарам...">
</div>

<section class="products">
    <div class="product" data-name="Розы" data-price="20">
        <img src="https://cdn.pixabay.com/photo/2017/03/31/15/32/roses-2191636_1280.jpg" alt="Розы">
        <h3>Розы</h3>
        <p>Цена: $20</p>
        <button><i class="fas fa-cart-plus"></i> Добавить</button>
    </div>
    <div class="product" data-name="Тюльпаны" data-price="15">
        <img src="https://cdn.pixabay.com/photo/2019/04/08/17/18/tulips-4112431_1280.jpg" alt="Тюльпаны">
        <h3>Тюльпаны</h3>
        <p>Цена: $15</p>
        <button><i class="fas fa-cart-plus"></i> Добавить</button>
    </div>
    <div class="product" data-name="Лилии" data-price="18">
        <img src="https://cdn.pixabay.com/photo/2021/09/10/19/07/lilies-6613965_1280.jpg" alt="Лилии">
        <h3>Лилии</h3>
        <p>Цена: $18</p>
        <button><i class="fas fa-cart-plus"></i> Добавить</button>
    </div>
</section>

<div class="cart-btn">
    <i class="fas fa-shopping-cart"></i>
    <div class="count">0</div>
</div>

<div class="overlay"></div>

<div class="cart-modal">
    <div class="cart-header">
        <h2>Корзина</h2>
        <span class="close">&times;</span>
    </div>
    <div class="cart-items"></div>
    <div class="cart-summary">Итого: $<span id="total">0</span></div>
    <div class="delivery-options">
        <label><input type="radio" name="delivery" value="Самовывоз" checked> Самовывоз</label>
        <label><input type="radio" name="delivery" value="Доставка"> Доставка</label>
    </div>
    <div class="comment-box">
        <label for="comment">Комментарий к заказу:</label>
        <textarea id="comment" placeholder="Например: хочу букет в белой упаковке"></textarea>
    </div>
    <div class="customer-info">
        <input type="text" id="customerName" placeholder="Ваше имя">
        <input type="tel" id="customerPhone" placeholder="Ваш телефон">
    </div>
    <div class="cart-actions">
        <button class="clear-cart" disabled><i class="fas fa-trash"></i> Очистить</button>
        <button class="checkout" disabled><i class="fab fa-whatsapp"></i> Оформить</button>
    </div>
</div>

<section class="contacts">
    <h2>Контакты</h2>
    <p>Телефон: +992 12345678</p>
    <p>Время работы: 08:00 до 20:00</p>
    <p>Адрес: г. Душанбе, Рудаки 12</p>
</section>

<div class="toast" id="toast"></div>

<script>
    const cartBtn = document.querySelector('.cart-btn');
    const cartModal = document.querySelector('.cart-modal');
    const overlay = document.querySelector('.overlay');
    const closeBtn = document.querySelector('.cart-header .close');
    const cartItemsContainer = document.querySelector('.cart-items');
    const clearCartBtn = document.querySelector('.clear-cart');
    const checkoutBtn = document.querySelector('.checkout');
    const cartCount = document.querySelector('.cart-btn .count');
    const totalEl = document.getElementById('total');
    const toast = document.getElementById('toast');
    const searchInput = document.getElementById('search');
    const deliveryOptions = document.getElementsByName('delivery');
    const commentInput = document.getElementById('comment');
    const customerName = document.getElementById('customerName');
    const customerPhone = document.getElementById('customerPhone');

    let cart = [];

    if (localStorage.getItem('cart')) {
        cart = JSON.parse(localStorage.getItem('cart'));
        updateCart();
    }

    function showToast(message) {
        toast.textContent = message;
        toast.classList.add('show');
        setTimeout(()=> toast.classList.remove('show'), 2000);
    }

    function updateCart() {
        cartItemsContainer.innerHTML = '';
        let totalItems = 0;
        let totalPrice = 0;

        cart.forEach((item,index)=>{
            totalItems += item.quantity;
            totalPrice += item.price * item.quantity;
            const div = document.createElement('div');
            div.classList.add('cart-item');
            div.innerHTML = `
                <img src="${item.image}" alt="${item.name}">
                <span>${item.name} - $${item.price} x ${item.quantity}</span>
                <div>
                    <button class="plus"><i class="fas fa-plus"></i></button>
                    <button class="minus"><i class="fas fa-minus"></i></button>
                </div>
            `;
            cartItemsContainer.appendChild(div);

            div.querySelector('.plus').addEventListener('click', ()=>{
                item.quantity++;
                updateCart();
            });
            div.querySelector('.minus').addEventListener('click', ()=>{
                item.quantity--;
                if(item.quantity<=0){cart.splice(index,1);}
                updateCart();
            });
        });

        cartCount.textContent = totalItems;
        totalEl.textContent = totalPrice.toFixed(2);
        clearCartBtn.disabled = cart.length===0;
        checkoutBtn.disabled = cart.length===0;

        localStorage.setItem('cart', JSON.stringify(cart));
    }

    document.querySelectorAll('.product button').forEach(btn=>{
        btn.addEventListener('click', ()=>{
            const product = btn.closest('.product');
            const name = product.dataset.name;
            const price = Number(product.dataset.price);
            const image = product.querySelector('img').src;

            const existing = cart.find(item=>item.name===name);
            if(existing){ existing.quantity++; }
            else { cart.push({name, price, image, quantity:1}); }
            updateCart();
            showToast(`${name} добавлен в корзину`);
        });
    });

    cartBtn.addEventListener('click', ()=>{
        cartModal.style.display='flex';
        overlay.style.display = 'block';
    });
    closeBtn.addEventListener('click', ()=>{
        cartModal.style.display='none';
        overlay.style.display = 'none';
    });
    overlay.addEventListener('click', ()=>{
        cartModal.style.display='none';
        overlay.style.display = 'none';
    });
    clearCartBtn.addEventListener('click', ()=>{
        cart = [];
        updateCart();
    });

    checkoutBtn.addEventListener('click', ()=>{
        if(customerPhone.value.trim()===''){
            showToast('Введите номер телефона 📞');
            return;
        }

        let message = '🌸 *Заказ из Myflower\'s* 🌸\n\n';
        cart.forEach(item=>{
            message += `• ${item.name} — ${item.quantity} шт. ($${item.price * item.quantity})\n`;
        });
        message += `\n*Итого:* $${totalEl.textContent}\n`;

        let delivery = [...deliveryOptions].find(r=>r.checked).value;
        message += `\n🚚 Способ доставки: ${delivery}`;

        if(commentInput.value.trim()!==''){
            message += `\n📝 Комментарий: ${commentInput.value.trim()}`;
        }
        if(customerName.value.trim()!==''){
            message += `\n👤 Имя: ${customerName.value.trim()}`;
        }
        if(customerPhone.value.trim()!==''){
            message += `\n📞 Телефон: ${customerPhone.value.trim()}`;
        }

        const phone = '+99212345678';
        const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
        window.open(url,'_blank');
    });

    searchInput.addEventListener('input', ()=>{
        const value = searchInput.value.toLowerCase();
        document.querySelectorAll('.product').forEach(prod=>{
            const name = prod.dataset.name.toLowerCase();
            prod.style.display = name.includes(value) ? 'block' : 'none';
        });
    });
</script>
</body>
</html>